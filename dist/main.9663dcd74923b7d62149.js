(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var a=o.getElementsByTagName("script");a.length&&(t=a[a.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=()=>{const e=new Date;return new Intl.DateTimeFormat("en-UK",{weekend:"long",day:"numeric",month:"short",hour:"2-digit",minute:"numeric"}).format(e)};function o(){return JSON.parse(localStorage.getItem("boardsArray"))??[{id:1,title:"Example project",background:1,color:1,status:"active",todoTasks:[{type:"todo",id:11,panelIndex:0,title:"Разработка динамической верстки",description:"Написать на js динамическую верстку, использовать методологию бэм",user:7,creationTime:"18 Feb, 09:32",takenTime:"",completedTime:""},{type:"todo",id:12,panelIndex:1,title:"Написание UI",description:"Написать UI с помощью scss, использовать вложенность",user:8,creationTime:"18 Feb, 09:45",takenTime:"",completedTime:""},{type:"todo",id:13,panelIndex:2,title:"Тест приложения",description:"Протестировать приложение, найти баги, составить отчет",user:7,creationTime:"18 Feb, 09:50",takenTime:"",completedTime:""}],progressTasks:[],doneTasks:[],deleteTasks:[],usersArray:[{id:7,src:"https://ingyen-hatterkep.hu/hatterkepek_tablet/szep-selena-gomez-hatterkep-53927.jpg",name:"Бондарева Валерия",job:"UI/UX дизайнер"},{id:8,src:"https://c.wallhere.com/photos/62/ca/dj_axwell_disc_jockey_house_musician_bw-578268.jpg!s",name:"Ильин Александр",job:"специалист по информационной безопасности"},{id:9,src:"https://upload.wikimedia.org/wikipedia/commons/3/34/Prison_break_2012.jpg",name:"Буданов Михаил",job:"системный аналитик"},{id:10,src:"https://eao24.ru/wp-content/uploads/2019/12/e741023e5facfa5da490e273b0d36cb9.jpg",name:"Степанов Демид",job:"тимлид"},{id:11,src:"https://cdn1.flamp.ru/87172275c0e7307aaba37ffc44179bd2_300_300.jpg",name:"Соколова Ульяна",job:"маркетолог"}]}]}function a(e){localStorage.setItem("boardsArray",JSON.stringify(e))}function r(){return Date.now()}function n(e,o,a){return{type:"todo",id:r(),panelIndex:0,title:e,description:o,user:a,creationTime:t(),takenTime:"",completedTime:""}}const s=()=>o().reduce(((e,t,o)=>("active"===t.status&&(e=o),e)),0),d=e=>{const t={1:{color:"blue",normal:"#2271b1",transparent:"rgba(34, 112, 177, 0.5)",dark:"#0a4b78"},2:{color:"red",normal:"#D40F12",transparent:"rgba(210, 15, 18, 0.5)",dark:"#8a2424"},3:{color:"green",normal:"#008a20",transparent:"rgba(0, 138, 33, 0.5)",dark:"#00450c"},4:{color:"orange",normal:"#ff6619",transparent:"rgba(255, 102, 25, 0.5)",dark:"#f23805"},5:{color:"purple",normal:"#AF3FE3",transparent:"rgba(175, 63, 277, 0.5)",dark:"#630091"},6:{color:"gray",normal:"#474747",transparent:"rgba(70, 70, 70, 0.5)",dark:"#3B3B3B"},7:{color:"brown",normal:"#7A1F0D",transparent:"rgba(122, 30, 15, 0.5)",dark:"#852F1D"},8:{color:"marine",normal:"#02A17F",transparent:"rgba(0, 161, 127, 0.5)",dark:"#006E56"},9:{color:"cream",normal:"#FC7E5B",transparent:"rgba(255, 126, 91, 0.5)",dark:"#E86D4B"},10:{color:"salad",normal:"#26AD4C",transparent:"rgba(38, 173, 76, 0.5)",dark:"#2E8C49"},11:{color:"violet",normal:"#643DB8",transparent:"rgba(100, 60, 185, 0.5)",dark:"#4F2D82"},12:{color:"military",normal:"#627A0D",transparent:"rgba(100, 120, 15, 0.5)",dark:"#415202"}},a=o();if(a.length){return t[a[s()].color][e]}return"#2271b1"},c=()=>{const e=new Date,t=document.querySelector("#clock-info"),o=e.getHours()<10?"0"+e.getHours():e.getHours(),a=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),r=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();t.innerText=o+":"+a+":"+r},l=()=>{const e=document.createElement("div");e.className="clock",e.id="clock";const t=document.createElement("p");return t.className="clock__info",t.id="clock-info",t.style.borderColor=d("normal"),e.append(t),setInterval(c,1e3),e},i=e.p+"468d4a294aa8bc6a9b82.svg";function u(e,t,o,a,r,n){const s=document.createElement("button");return s.className=t,s.id=e,s.textContent=o,s.type=a,s.title=r,"fill"===n&&(s.style.backgroundColor=d("transparent"),s.onmouseover=function(){s.style.backgroundColor=d("normal")},s.onmouseout=function(){s.style.backgroundColor=d("transparent")}),s}function m(){const e=o(),t=document.createElement("div");return t.id="boards-switcher",t.className="boards-switcher",e.length&&e.forEach(((e,o)=>{o++;const a=document.createElement("label");a.name="radio-show-button",a.setAttribute("for",`board-radio-button-${e.id}`),a.title=`Show board-${o}`,a.innerText=`board-${o}`,a.className="boards-switcher__radio-button-label";const r=document.createElement("input");r.id=`board-radio-button-${e.id}`,r.type="radio",r.className="boards-switcher__radio-button","active"===e.status?(r.checked=!0,a.style.color=d("normal")):a.style.background={1:{color:"blue",normal:"#2271b1",transparent:"rgba(34, 112, 177, 0.5)",dark:"#0a4b78"},2:{color:"red",normal:"#D40F12",transparent:"rgba(210, 15, 18, 0.5)",dark:"#8a2424"},3:{color:"green",normal:"#008a20",transparent:"rgba(0, 138, 33, 0.5)",dark:"#00450c"},4:{color:"orange",normal:"#ff6619",transparent:"rgba(255, 102, 25, 0.5)",dark:"#f23805"},5:{color:"purple",normal:"#AF3FE3",transparent:"rgba(175, 63, 277, 0.5)",dark:"#630091"},6:{color:"gray",normal:"#474747",transparent:"rgba(70, 70, 70, 0.5)",dark:"#3B3B3B"},7:{color:"brown",normal:"#7A1F0D",transparent:"rgba(122, 30, 15, 0.5)",dark:"#852F1D"},8:{color:"marine",normal:"#02A17F",transparent:"rgba(0, 161, 127, 0.5)",dark:"#006E56"},9:{color:"cream",normal:"#FC7E5B",transparent:"rgba(255, 126, 91, 0.5)",dark:"#E86D4B"},10:{color:"salad",normal:"#26AD4C",transparent:"rgba(38, 173, 76, 0.5)",dark:"#2E8C49"},11:{color:"violet",normal:"#643DB8",transparent:"rgba(100, 60, 185, 0.5)",dark:"#4F2D82"},12:{color:"military",normal:"#627A0D",transparent:"rgba(100, 120, 15, 0.5)",dark:"#415202"}}[e.color].transparent,r.name="radio-show-button",t.append(r,a)})),e.length<3&&t.append(u("boards-switcher-button-add","boards-switcher__button-add","","button","Add new board")),t}function p(e){const t=document.createElement("div");t.className="main-wrapper";const o=function(){const e=document.createElement("header");e.className="main-header container",e.id="main-header";const t=document.createElement("div");t.className="boards-switcher-wrapper";const o=document.createElement("p");o.className="boards-switcher-title",o.innerText="let's start working!",t.append(m(),o),e.append(t);const a=document.createElement("img");return a.className="main-header__logo",a.id="main-header-logo",a.src=i,a.alt="Trollo-lo Logo",e.append(a,l()),e}();t.append(o);const a=document.createElement("main");a.className="boards-container container",a.id="boards-container",t.append(a),e.append(t)}const b=()=>({mainHeader:document.querySelector("#main-header"),boardsContainer:document.querySelector("#boards-container"),boardHeader:document.querySelector(".board__header"),boardHeaderLogo:document.querySelector("#main-header-logo"),boardTitle:document.querySelector(".board__header-title"),usersBarWrapper:document.querySelector("#users-bar-wrapper"),usersBar:document.querySelector("#users-bar"),boardSwitcherWrapper:document.querySelector(".boards-switcher-wrapper"),boardSwitcherTitle:document.querySelector(".boards-switcher-title"),boardSwitcher:document.querySelector(".boards-switcher"),boardContainer:document.querySelector(".board__panels-container"),todoPanel:document.querySelector("#panel-todo"),todoCount:document.querySelector("#panel-count-todo"),todoPanelContainer:document.querySelector("#panel-container-todo"),progressPanel:document.querySelector("#panel-progress"),progressCount:document.querySelector("#panel-count-progress"),progressPanelContainer:document.querySelector("#panel-container-progress"),donePanel:document.querySelector("#panel-done"),doneCount:document.querySelector("#panel-count-done"),donePanelContainer:document.querySelector("#panel-container-done"),clockInfo:document.querySelector("#clock-info"),usersEditWrapper:document.querySelector(".users-edit-wrapper"),usersEditHeader:document.querySelector(".users-edit__header"),newUserSelect:document.querySelector(".users-edit__select"),userEditContainer:document.querySelector(".users-edit__container"),boardSettingsWrapper:document.querySelector(".board-settings-wrapper"),boardSettingsTitle:document.querySelector(".board-settings__title"),boardSettingsCancelButton:document.querySelector("#board-settings-cancel-button"),modalContainer:document.querySelector(".modal-edit__container"),modalOverlay:document.querySelector(".modal-overlay"),editModalOverlay:document.querySelector(".edit-modal-overlay"),modalConfirmContainer:document.querySelector(".modal-confirm__container"),modalTitle:document.querySelector(".modal-edit__title"),modalDescription:document.querySelector(".modal-edit__description"),deleteAllButton:document.querySelector("#delete-all-button"),todoArrowTop:document.querySelector("#arrow-top-todo"),progressArrowTop:document.querySelector("#arrow-top-progress"),doneArrowTop:document.querySelector("#arrow-top-done"),switchPanelLeft:document.querySelector("#switch-panel-left"),switchPanelRight:document.querySelector("#switch-panel-right"),splash:document.querySelector(".splash"),clickSound:document.querySelector("#click"),swipeSound:document.querySelector("#swipe"),swipeLargeSound:document.querySelector("#swipe-large"),wowSound:document.querySelector("#wow"),ringSound:document.querySelector("#ring"),trashSound:document.querySelector("#trash"),bugSound:document.querySelector("#bug-sound"),errorSound:document.querySelector("#error")}),g=e=>{e.innerHTML=""};const y=(e,t)=>{const a=o()[s()].usersArray,r=[{id:1,src:"https://th.wallhaven.cc/lg/13/13e8dg.jpg",name:"Смирнова Василиса",job:"модератор форума"},{id:2,src:"https://i.bimbolive.com/020/18e/09f/d40228391bddc3ce8ef078d6124b5a05_profile.jpg",name:"Березин Артём",job:"системный администратор"},{id:3,src:"https://avt-26.foto.mail.ru/mail/sasha72-10/_avatar180?",name:"Поляков Максим",job:"программист"},{id:4,src:"https://masterklas7.2event.com/dist/img/girl.jpg",name:"Троицкая Анна",job:"менеджер проекта"},{id:5,src:"https://i.bimbolive.com/024/076/32f/6b7953e6577ed676f17a115312730ff9_thumb_xbig_lq.jpg",name:"Максимов Олег",job:"тестировщик"},{id:6,src:"http://i.mycdn.me/i?r=AzG9h-PeeFwI7g8EySOer1-5IvZIhQsUuzNmuIZRsmPlvb87LPjKOFCz6WOIYOSqGRc",name:"Кравцов Никита",job:"гейм-дизайнер"},{id:7,src:"https://ingyen-hatterkep.hu/hatterkepek_tablet/szep-selena-gomez-hatterkep-53927.jpg",name:"Бондарева Валерия",job:"UI/UX дизайнер"},{id:8,src:"https://c.wallhere.com/photos/62/ca/dj_axwell_disc_jockey_house_musician_bw-578268.jpg!s",name:"Ильин Александр",job:"специалист по информационной безопасности"},{id:9,src:"https://upload.wikimedia.org/wikipedia/commons/3/34/Prison_break_2012.jpg",name:"Буданов Михаил",job:"системный аналитик"},{id:10,src:"https://eao24.ru/wp-content/uploads/2019/12/e741023e5facfa5da490e273b0d36cb9.jpg",name:"Степанов Демид",job:"тимлид"},{id:11,src:"https://cdn1.flamp.ru/87172275c0e7307aaba37ffc44179bd2_300_300.jpg",name:"Соколова Ульяна",job:"маркетолог"},{id:12,src:"https://pics.loveplanet.ru/2/foto/12/52/12528c41/e7OE1Iw==_.jpg?p=aRrRiakW1Ym4X_",name:"Никитин Максим",job:"бизнес-аналитик"},{id:13,src:"https://workgirl24.com/uploads/usr/1/ts_c0aa227907711e66a13d1b413aefc345_6_0.jpg",name:"Кузьмина Александра",job:"рекрутер"},{id:14,src:"https://pics.loveplanet.ru/13/foto/c6/1a/c61ac805/eIKV99A==_.jpg?p=aCvAqvgnxKrpb_",name:"Сафонов Святослав",job:"Fullstack-разработчик"},{id:15,src:"https://pics.photographer.ru/nonstop/pics/thumbs/838/838511.jpg",name:"Калачев Николай",job:"Frontend-разработчик"}],n=document.querySelector(`#panel-container-${e}`),c=function(e,t){const o=document.createElement("div");o.className=`task-card task-card--${t}`,o.id=`task-card-${e}`,"todo"!==t&&"progress"!==t||(o.draggable="true");const a=document.createElement("div");a.className="task-card__info-container",o.append(a);const r=document.createElement("h3");r.className="task-card__title",r.id=`task-card-title-${e}`,a.append(r);const n=document.createElement("p");n.className="taskCard__description",n.id=`task-card-description-${e}`,a.append(n);const s=document.createElement("div");s.className="task-card__footer",a.append(s);const c=document.createElement("div");c.className="task-card__user-container",s.append(c);const l=document.createElement("div");l.classList="task-card__user-img-container",l.id=`task-card-user-img-container-${e}`;const i=document.createElement("img");i.className="task-card__user-img",i.id=`task-card-user-img-${e}`,i.src="#",i.alt="user photo",l.append(i),c.append(l);const m=document.createElement("p");m.className="task-card__user-name",m.id=`task-card-user-name-${e}`,c.append(m);const p=document.createElement("p");p.className="task-card__time",p.id=`task-card-create-time-${e}`;const b=document.createElement("p");b.className="task-card__time",b.id=`task-card-take-time-${e}`;const g=document.createElement("p");g.className="task-card__time",g.id=`task-card-complete-time-${e}`,s.append(p,b,g);const y=document.createElement("div");y.className="task-card__buttons-container",o.append(y),y.append(u(`${e}-card-delete-button`,"card__button card__button-delete","","button","Delete card"));const v=document.createElement("div");return v.className="task-card__container-divider","todo"===t&&(y.append(u(`${e}-card-edit-button`,"card__button card__button-edit","","button","Edit card")),y.append(v),y.append(u(`${e}-card-forward-button`,"card__button card__button-move-forward","","button","Move to progress"))),"progress"===t&&(y.append(v),y.append(u(`${e}-card-forward-button`,"card__button card__button-move-forward","","button","Move to done")),y.append(u(`${e}-card-back-button`,"card__button card__button-move-back","","button","Move back to todo")),y.style.backgroundColor=d("normal")),o}(t.id,e);n.append(c);document.querySelector(`#task-card-title-${t.id}`).innerText=t.title;document.querySelector(`#task-card-description-${t.id}`).innerText=t.description;const l=document.querySelector(`#task-card-user-img-${t.id}`),i=document.querySelector(`#task-card-user-img-container-${t.id}`),m=document.querySelector(`#task-card-create-time-${t.id}`),p=document.querySelector(`#task-card-take-time-${t.id}`),b=document.querySelector(`#task-card-complete-time-${t.id}`);m.innerText=`created:   ${t.creationTime}`,""!==t.takenTime&&(p.innerText=`taken: ${t.takenTime}`),""!==t.completedTime&&(b.innerText=`completed: ${t.completedTime}`);const g=document.querySelector(`#task-card-user-name-${t.id}`);"done"===e?(r.forEach((e=>{`${e.id}`==`${t.user}`&&(g.innerText=e.name,l.src=e.src)})),"user is not assigned"===t.user&&(g.remove(),i.remove())):"user is not assigned"!==t.user?a.forEach((e=>{`${e.id}`==`${t.user}`&&(g.innerText=e.name,l.src=e.src)})):(g.remove(),i.remove())},v=e=>{const t=document.createElement("button");return t.classList="arrow-top",t.id=`arrow-top-${e}`,t.type="button",t};const k=(e,t)=>{const a=o()[s()][`${t}Tasks`],r=a.length;e[`${t}Count`].innerText=r,g(e[`${t}PanelContainer`]),e[`${t}PanelContainer`].append(v(t)),a.forEach((e=>y(t,e))),"done"===t&&(!function(e){return e.reduce(((e,t)=>("done"===t.type&&++e,e)),0)}(a)?e.deleteAllButton.style.display="none":e.deleteAllButton.style.display="block"),(e=>{const t=b(),o=t[`${e}ArrowTop`],a=t[`${e}PanelContainer`];o.style.bottom="-50%",o.style.width=o.onclick=()=>a.scrollTo({top:0,behavior:"smooth"}),a.addEventListener("scroll",(()=>{a.scrollTop<50?o.style.bottom="-50%":o.style.bottom="3rem"}))})(t)};function h(){const e=document.createElement("header");e.className="board__header";const t=document.createElement("h1");t.className="board__header-title";const a=document.createElement("div");a.classList="board__menu-container";const r=document.createElement("div");return r.classList="users-bar-wrapper",r.append(function(){const e=o()[s()].usersArray,t=document.createElement("div");t.id="users-bar",t.classList="users-bar",e.forEach((e=>{const o=document.createElement("div");o.id=`${e.id}-user-avatar-container`,o.classList="user-bar__avatar-container",o.title=e.name;const a=document.createElement("img");a.classList="user-bar__avatar",a.src=e.src,a.alt="user photo",o.append(a),t.append(o)}));const a=u("users-bar-button","users-bar__button","","button","Edit users list");return t.append(a),t}()),a.append(r,u("board-settings-button","board__settings-button","","button","Board Settings"),u("board-delete-button","board__delete-button","","button","Delete Board")),e.append(t,a),e}function f(e){const t=document.createElement("section");t.className=`panel  panel-${e}`,t.id=`panel-${e}`;const o=document.createElement("div");o.className="panel__header",t.append(o);const a=document.createElement("h2");a.className="panel__title",a.textContent=`${e}:`,o.append(a);const r=document.createElement("h2");r.className="panel__count",r.id=`panel-count-${e}`,o.append(r);const n=document.createElement("div");switch(n.className="panel__container",n.id=`panel-container-${e}`,n.append(v(e)),t.append(n),e){case"todo":{const e=u("add-new-card-button","panel__button","Add new card","button","Create new task","fill");t.append(e);break}case"done":{const e=u("delete-all-button","panel__button","Delete All","button","Delete all completed cards","fill");t.append(e),n.style.backgroundColor=d("transparent"),n.onmouseover=function(){n.style.backgroundColor=d("normal")},n.onmouseout=function(){n.style.backgroundColor=d("transparent")}}}return t}const _=()=>({1:"#000000",2:"#494949",3:"#939393",4:"#DCDCDC",5:"url('https://phonoteka.org/uploads/posts/2022-02/1645167636_44-phonoteka-org-p-temno-sinii-fon-dlya-rabochego-stola-47.jpg') center/cover no-repeat",6:"url('https://img5.goodfon.ru/original/1280x1024/0/2b/priroda-les-derevia-utro-tuman.jpg') center/cover no-repeat",7:"url('https://kartinkin.net/pics/uploads/posts/2022-08/thumbs/1660603532_58-kartinkin-net-p-les-v-tumane-oboi-krasivo-63.jpg') center/cover no-repeat",8:"url('https://www.zastavki.com/pictures/1280x1024/2021Nature___Sea_Small_gray_sea_stones_156257_10.jpg') center/cover no-repeat",9:"url('https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6bfc5321706845.5f8486983541c.jpg') center/cover no-repeat",10:"url('https://catherineasquithgallery.com/uploads/posts/2021-03/1614838352_31-p-fon-dlya-feisbuka-45.jpg') center/cover no-repeat",11:"url('https://img2.goodfon.ru/original/1280x1024/7/d0/gory-les-ozero-domiki-priroda.jpg') center/cover no-repeat",12:"url('https://www15.findbrands.co/img/products/116573-denizde-manzaralar-sunset-271pfj-cerceve-mevcut-oezel-bask-kumas-posteri-icin-duvar-dekor-odas-dekor-ev-dekorasyon.jpg') center/cover no-repeat"}[o()[s()].background]);const w=()=>{const e=document.createElement("div");e.className="splash";const t=document.createElement("div");t.className="splash__container",e.append(t);const o=document.createElement("div");o.className="tro";const a=document.createElement("div");a.className="llo";const r=document.createElement("div");r.className="lo",t.append(o,a,r);const n=document.createElement("div");n.className="splash__title";const s="true task manager";for(let e=0;e<s.length;e++){const t=document.createElement("span");t.classList="letter",t.id=`letter-${e}`,t.innerText=s[e],t.style.animationDelay=(e+1)/100+"s",n.append(t)}const d=document.createElement("div");d.className="copy-right",d.innerText="2023 © BIG soft engineering";const c=document.createElement("div");return c.className="bug",c.id="bug",d.append(c),e.append(n,d),e},E=()=>{const e=o();if(document.querySelector("#clock-info").style.borderColor=d("normal"),e.length){document.body.style.background=_(),function(){const e=b();e.boardsContainer.innerHTML="";const t=document.createElement("main");t.className="board";const o=document.createElement("div");o.className="board__panels-container",o.append(u("switch-panel-left","switch-panel","","button","",""),u("switch-panel-right","switch-panel","","button","",""));const a=f("todo"),r=f("progress"),n=f("done");o.append(a,r,n),t.append(h(),o),e.boardsContainer.append(t)}(),(()=>{const e=o()[s()],t=b();t.boardTitle.innerText=e.title,t.boardHeader.style.background=d("normal")})();const e=b();e.boardHeaderLogo.style.opacity="1",e.clockInfo.style.opacity="1",e.boardSwitcherTitle.style.display="none",window.innerWidth<768?(e.progressPanel.setAttribute("disable",""),e.donePanel.setAttribute("disable",""),e.switchPanelLeft.setAttribute("disable",""),e.switchPanelRight.removeAttribute("disable","")):(e.switchPanelLeft.style.display="none",e.switchPanelRight.style.display="none"),k(e,"todo"),k(e,"progress"),k(e,"done")}else{const e=b();g(e.boardsContainer),e.boardHeaderLogo.style.opacity="0",e.clockInfo.style.opacity="0",e.boardSwitcherTitle.style.display="block",document.body.style.background="url('./main-background.jpg') center/cover no-repeat",e.boardsContainer.append(w());document.querySelector("#bug").addEventListener("mouseover",(()=>{e.bugSound.play()}))}};function S(){const e=b();e.boardSwitcher.remove(),e.boardSwitcherWrapper.append(m())}const T=e=>{(()=>{const e=d("normal"),t=document.createElement("div");t.classList="board-settings-wrapper";const a=document.createElement("div");a.classList="board-settings",a.style.borderColor=e,t.append(a);const r=document.createElement("p");r.classList="board-settings__header",r.innerText="board settings",r.style.background=e,a.append(r);const n=document.createElement("form");n.classList="board-settings__form",a.append(n);const c=document.createElement("div");c.classList="board-settings__form-container",n.append(c);const l=document.createElement("p");l.classList="board-settings__title-header",l.innerText="Title";const i=document.createElement("input");i.className="board-settings__title",i.type="text",i.onmouseover=function(){i.style.borderColor=e},i.onmouseout=function(){i.style.borderColor="#737373"},c.append(l,i);const m=document.createElement("div");m.classList="board-settings__background-container",c.append(m);const p=document.createElement("p");p.classList="board-settings__background-header",p.innerText="Background",m.append(p);const b={1:"#000000",2:"#494949",3:"#939393",4:"#DCDCDC",5:"url('https://phonoteka.org/uploads/posts/2022-02/1645167636_44-phonoteka-org-p-temno-sinii-fon-dlya-rabochego-stola-47.jpg') center/cover no-repeat",6:"url('https://img5.goodfon.ru/original/1280x1024/0/2b/priroda-les-derevia-utro-tuman.jpg') center/cover no-repeat",7:"url('https://kartinkin.net/pics/uploads/posts/2022-08/thumbs/1660603532_58-kartinkin-net-p-les-v-tumane-oboi-krasivo-63.jpg') center/cover no-repeat",8:"url('https://www.zastavki.com/pictures/1280x1024/2021Nature___Sea_Small_gray_sea_stones_156257_10.jpg') center/cover no-repeat",9:"url('https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/6bfc5321706845.5f8486983541c.jpg') center/cover no-repeat",10:"url('https://catherineasquithgallery.com/uploads/posts/2021-03/1614838352_31-p-fon-dlya-feisbuka-45.jpg') center/cover no-repeat",11:"url('https://img2.goodfon.ru/original/1280x1024/7/d0/gory-les-ozero-domiki-priroda.jpg') center/cover no-repeat",12:"url('https://www15.findbrands.co/img/products/116573-denizde-manzaralar-sunset-271pfj-cerceve-mevcut-oezel-bask-kumas-posteri-icin-duvar-dekor-odas-dekor-ev-dekorasyon.jpg') center/cover no-repeat"},g=o(),y=s();i.value=g[y].title;const v=g[y].background;for(let e=1;e<=12;e++){const t=document.createElement("input");t.classList="board-settings__background-radio",t.id=`background-radio-${e}`,t.name="background-radio",t.type="radio",`${e}`==`${v}`&&(t.checked=!0);const o=document.createElement("label");o.classList="board-settings__background-label",o.id=`background-label-${e}`,o.name="background-radio",o.setAttribute("for",`${t.id}`),o.style.background=b[`${e}`],m.append(t,o)}const k=document.createElement("div");k.classList="board-settings__colors-container",c.append(k);const h=document.createElement("p");h.classList="board-settings__colors-header",h.innerText="Main color",k.append(h);const f={1:{color:"blue",normal:"#2271b1",transparent:"rgba(34, 112, 177, 0.5)",dark:"#0a4b78"},2:{color:"red",normal:"#D40F12",transparent:"rgba(210, 15, 18, 0.5)",dark:"#8a2424"},3:{color:"green",normal:"#008a20",transparent:"rgba(0, 138, 33, 0.5)",dark:"#00450c"},4:{color:"orange",normal:"#ff6619",transparent:"rgba(255, 102, 25, 0.5)",dark:"#f23805"},5:{color:"purple",normal:"#AF3FE3",transparent:"rgba(175, 63, 277, 0.5)",dark:"#630091"},6:{color:"gray",normal:"#474747",transparent:"rgba(70, 70, 70, 0.5)",dark:"#3B3B3B"},7:{color:"brown",normal:"#7A1F0D",transparent:"rgba(122, 30, 15, 0.5)",dark:"#852F1D"},8:{color:"marine",normal:"#02A17F",transparent:"rgba(0, 161, 127, 0.5)",dark:"#006E56"},9:{color:"cream",normal:"#FC7E5B",transparent:"rgba(255, 126, 91, 0.5)",dark:"#E86D4B"},10:{color:"salad",normal:"#26AD4C",transparent:"rgba(38, 173, 76, 0.5)",dark:"#2E8C49"},11:{color:"violet",normal:"#643DB8",transparent:"rgba(100, 60, 185, 0.5)",dark:"#4F2D82"},12:{color:"military",normal:"#627A0D",transparent:"rgba(100, 120, 15, 0.5)",dark:"#415202"}},_=g[y].color;for(let e=1;e<=12;e++){const t=document.createElement("input");t.classList="board-settings__colors-radio",t.id=`colors-radio-${e}`,t.name="colors-radio",t.type="radio",`${e}`==`${_}`&&(t.checked=!0);const o=document.createElement("label");o.classList="board-settings__colors-label",o.id="colors-label-c",o.name="colors-radio",o.setAttribute("for",`${t.id}`),o.style.background=f[`${e}`].normal,k.append(t,o)}const w=document.createElement("div");w.classList="board-settings__buttons-container",w.append(u("board-settings-save-button","modal-button","Save","submit","Save changes","fill"),u("board-settings-cancel-button","modal-button","Cancel","button","Cancel changes","fill")),n.append(w),document.querySelector("#root").append(t),document.body.style.overflow="hidden"})();const t=b();t.clickSound.play();const r=o(),n=s(),c=r[n];"new"===e&&(t.boardSettingsCancelButton.style.display="none"),window.addEventListener("keydown",(e=>{"Escape"===e.code&&(t.boardSettingsWrapper.remove(),document.body.style.overflow="auto")}),!0),t.boardSettingsWrapper.addEventListener("click",(e=>{if("board-settings-save-button"===e.target.id){e.preventDefault(),c.title=t.boardSettingsTitle.value,t.ringSound.play();document.querySelectorAll(".board-settings__background-radio").forEach((e=>{!0===e.checked&&(c.background=e.id.match(/\d/g).join(""))}));document.querySelectorAll(".board-settings__colors-radio").forEach((e=>{!0===e.checked&&(c.color=e.id.match(/\d/g).join(""))})),a(r),t.boardSettingsWrapper.remove(),document.body.style.overflow="auto",E(),S()}"board-settings-cancel-button"===e.target.id&&(t.boardSettingsWrapper.remove(),document.body.style.overflow="auto",t.clickSound.play())}))},C=e=>{const t=o();t.forEach((t=>{`${t.id}`==`${e}`?t.status="active":t.status="disable"})),a(t)},L=()=>{const e=o(),t={id:r(),title:"New project",background:1,color:1,status:"disable",todoTasks:[],progressTasks:[],doneTasks:[],deleteTasks:[],usersArray:[]};e.push(t),a(e),C(t.id),S(),E(),T("new")};function j(e,t,o){t.innerHTML="";const a=document.createElement("option");a.innerText="----  select user  ----",a.value="empty",t.append(a),e.forEach(((e,o)=>{const a=document.createElement("option");a.value=e.id,a.innerText=e.name,t.append(a)})),"user is not assigned"!==o&&(t.value=`${o}`)}function q(e){const t=o(),a=s(),r=t[a].todoTasks,n=t[a].usersArray,c=document.createElement("div");c.className="edit-modal-overlay";const l=document.createElement("form");l.className="modal-edit__container",l.style.borderColor=d("normal"),c.append(l);const i=document.createElement("h2");i.classList="modal-edit__message",i.innerText="new"!==e?"Changing task information":"Create new task",l.append(i);const m=document.createElement("div");m.className="modal-edit__card-info",l.append(m);const p=document.createElement("input");p.className="modal-edit__title",p.type="text",p.placeholder="Task title",p.maxLength=50;const b=document.createElement("textarea");b.className="modal-edit__description",b.placeholder="Task description",b.maxLength=500;const g=document.createElement("select");g.id="select",g.className="users-edit__select",m.append(p,b,g);const y=document.createElement("div");y.className="modal-edit__footer",y.append(u("modal-edit-confirm","modal-button","Save","submit","Save changes","fill"),u("modal-edit-cancel","modal-button","Cancel","button","Cancel changes","fill")),l.append(m,y);document.querySelector("#root").prepend(c),document.body.style.overflow="hidden","new"!==e?r.forEach((t=>{t.id===e&&(p.value=t.title,b.innerText=t.description,j(n,g,t.user))})):j(n,g,"empty")}function $(e,t){const o=document.createElement("div");o.className="modal-overlay";const a=document.createElement("div");a.className="modal-confirm__container",a.style.borderColor=d("normal"),o.append(a);const r=document.createElement("h2");r.className="modal-confirm__header",r.innerText=e,a.append(r);const n=document.createElement("div");n.className="modal-confirm__buttons-container","alert"!==t?n.append(u("modal-confirm","modal-button","Confirm","button","Confirm action","fill"),u("modal-cancel","modal-button","Cancel","button","Cancel action","fill")):n.append(u("modal-cancel","modal-button","OK","button","","fill")),a.append(n);document.querySelector("#root").append(o),document.body.style.overflow="hidden"}const A=e=>{e.scrollTo({top:1e5,behavior:"smooth"})};const P=(e,t)=>{t.innerHTML="",e.forEach((e=>{const o=document.createElement("li");o.classList="user-add__list-item";const a=document.createElement("div");a.classList="user-add__image-container";const r=document.createElement("img");r.classList="user-add__list-image",r.src=e.src,r.alt="user photo",a.append(r);const n=document.createElement("div");n.classList="user-add__info-container";const s=document.createElement("h3");s.classList="user-add__name",s.innerText=e.name;const d=document.createElement("p");d.classList="user-add__job",d.innerText=e.job,n.append(s,d),o.append(a,n,u(`delete-user-button-${e.id}`,"delete-user-button","","button","Remove from project")),t.append(o)})),A(t)},x=(e,t)=>t.map((t=>{const o=t.user;return e.reduce(((e,t)=>(`${o}`==`${t.id}`&&++e,e)),0)||(t.user="user is not assigned"),t}));function N(e,t){const o=[];return e.forEach((e=>{-1===JSON.stringify(t).indexOf(JSON.stringify(e))&&o.push(e)})),o}const O=()=>{(()=>{const e=d("normal"),t=document.createElement("div");t.classList="users-edit-wrapper";const o=document.createElement("div");o.classList="users-edit",o.style.borderColor=e,t.append(o);const a=document.createElement("p");a.classList="users-edit__header",a.style.background=e;const r=document.createElement("form");r.classList="users-edit__add-form";const n=document.createElement("select");n.classList="users-edit__select",n.name="users-edit-select",n.onmouseover=function(){n.style.borderColor=e},n.onmouseout=function(){n.style.borderColor="transparent"},r.append(n,u("user-edit-select-button","modal-button","Add to project","submit","","fill"));const s=document.createElement("ul");s.classList="users-edit__container";const c=document.createElement("div");c.classList="users-edit__buttons-container",c.append(u("user-edit-save-button","modal-button","Save","button","Save changes","fill"),u("user-edit-cancel-button","modal-button","Cancel","button","Cancel changes","fill")),o.append(a,r,s,c);const l=document.querySelector("#root");document.body.style.overflow="hidden",l.append(t)})();const e=b();e.clickSound.play();const t=[{id:1,src:"https://th.wallhaven.cc/lg/13/13e8dg.jpg",name:"Смирнова Василиса",job:"модератор форума"},{id:2,src:"https://i.bimbolive.com/020/18e/09f/d40228391bddc3ce8ef078d6124b5a05_profile.jpg",name:"Березин Артём",job:"системный администратор"},{id:3,src:"https://avt-26.foto.mail.ru/mail/sasha72-10/_avatar180?",name:"Поляков Максим",job:"программист"},{id:4,src:"https://masterklas7.2event.com/dist/img/girl.jpg",name:"Троицкая Анна",job:"менеджер проекта"},{id:5,src:"https://i.bimbolive.com/024/076/32f/6b7953e6577ed676f17a115312730ff9_thumb_xbig_lq.jpg",name:"Максимов Олег",job:"тестировщик"},{id:6,src:"http://i.mycdn.me/i?r=AzG9h-PeeFwI7g8EySOer1-5IvZIhQsUuzNmuIZRsmPlvb87LPjKOFCz6WOIYOSqGRc",name:"Кравцов Никита",job:"гейм-дизайнер"},{id:7,src:"https://ingyen-hatterkep.hu/hatterkepek_tablet/szep-selena-gomez-hatterkep-53927.jpg",name:"Бондарева Валерия",job:"UI/UX дизайнер"},{id:8,src:"https://c.wallhere.com/photos/62/ca/dj_axwell_disc_jockey_house_musician_bw-578268.jpg!s",name:"Ильин Александр",job:"специалист по информационной безопасности"},{id:9,src:"https://upload.wikimedia.org/wikipedia/commons/3/34/Prison_break_2012.jpg",name:"Буданов Михаил",job:"системный аналитик"},{id:10,src:"https://eao24.ru/wp-content/uploads/2019/12/e741023e5facfa5da490e273b0d36cb9.jpg",name:"Степанов Демид",job:"тимлид"},{id:11,src:"https://cdn1.flamp.ru/87172275c0e7307aaba37ffc44179bd2_300_300.jpg",name:"Соколова Ульяна",job:"маркетолог"},{id:12,src:"https://pics.loveplanet.ru/2/foto/12/52/12528c41/e7OE1Iw==_.jpg?p=aRrRiakW1Ym4X_",name:"Никитин Максим",job:"бизнес-аналитик"},{id:13,src:"https://workgirl24.com/uploads/usr/1/ts_c0aa227907711e66a13d1b413aefc345_6_0.jpg",name:"Кузьмина Александра",job:"рекрутер"},{id:14,src:"https://pics.loveplanet.ru/13/foto/c6/1a/c61ac805/eIKV99A==_.jpg?p=aCvAqvgnxKrpb_",name:"Сафонов Святослав",job:"Fullstack-разработчик"},{id:15,src:"https://pics.photographer.ru/nonstop/pics/thumbs/838/838511.jpg",name:"Калачев Николай",job:"Frontend-разработчик"}],r=o(),n=s(),c=r[n].usersArray;e.usersEditHeader.innerText=`${r[n].title}  |  users`,P(c,e.userEditContainer),j(N(t,c),e.newUserSelect,"empty"),window.addEventListener("keydown",(t=>{"Escape"===t.code&&(e.usersEditWrapper.remove(),document.body.style.overflow="auto")}),!0),e.usersEditWrapper.addEventListener("click",(o=>{if("user-edit-select-button"===o.target.id&&(o.preventDefault(),e.clickSound.play(),t.forEach((o=>{`${e.newUserSelect.value}`==`${o.id}`&&(c.push(o),j(N(t,c),e.newUserSelect,"empty"),P(c,e.userEditContainer))}))),-1!==o.target.id.indexOf("delete-user-button")){const a=o.target.id.split("-").at(-1),r=c.reduce(((e,t,o)=>(`${t.id}`==`${a}`&&(e=o),e)),0);c.splice(r,1),j(N(t,c),e.newUserSelect,"empty"),P(c,e.userEditContainer),e.clickSound.play()}"user-edit-cancel-button"===o.target.id&&(document.body.style.overflow="auto",e.usersEditWrapper.remove(),e.clickSound.play()),"user-edit-save-button"===o.target.id&&(r[n].usersArray=c,r[n].todoTasks=x(c,r[n].todoTasks),r[n].progressTasks=x(c,r[n].progressTasks),a(r),e.usersEditWrapper.remove(),document.body.style.overflow="auto",E(),e.ringSound.play())}))};const D=()=>{const e=b();e.boardsContainer.addEventListener("dragstart",(e=>{if(-1!==e.target.id.indexOf("task-card")){e.dataTransfer.effectAllowed="move";const r=e.target.id.split("-").at(-1),n=document.querySelector(`#task-card-${r}`);!function(e,r,n){const d=document.querySelectorAll(".panel__container"),c=o(),l=s(),i=b(),u=c[l][`${n}Tasks`];u.forEach(((o,s)=>{String(o.id)===String(r)&&d.forEach((r=>{r.addEventListener("dragover",(e=>e.preventDefault())),r.addEventListener("dragenter",(function(e){e.preventDefault()})),r.addEventListener("drop",(function(r){r.preventDefault();let d=r.target.closest("#panel-todo");d||(d=r.target.closest("#panel-progress")),d||(d=r.target.closest("#panel-done"));const m=d.id.split("-").at(-1);switch(m){case"todo":"progress"===n&&(o.type="todo",o.takenTime="",c[l].todoTasks.push(o),u.splice(s,1),a(c),i.swipeSound.play());break;case"progress":if("todo"===n)if(c[l].progressTasks.length<6)o.type="progress",o.takenTime=t(),c[l].progressTasks.push(o),u.splice(s,1),a(c),i.swipeSound.play(),i.ringSound.play();else{$("You can't add more than 6 tasks to progress panel! Please, complete progress tasks","alert");const e=b();e.errorSound.play(),window.addEventListener("keydown",(t=>{"Escape"===t.code&&(e.modalOverlay.remove(),document.body.style.overflow="auto")}),!0),e.modalConfirmContainer.addEventListener("click",(t=>{"modal-cancel"===t.target.id&&e.modalOverlay.remove()}))}break;case"done":if("todo"===n){$("You can't move current task to completed!","alert");const e=b();e.errorSound.play(),window.addEventListener("keydown",(t=>{"Escape"===t.code&&(e.modalOverlay.remove(),document.body.style.overflow="auto")}),!0),e.modalConfirmContainer.addEventListener("click",(t=>{"modal-cancel"===t.target.id&&e.modalOverlay.remove()}));break}if("progress"===n){$("Move task to completed?");const e=b();e.clickSound.play(),window.addEventListener("keydown",(t=>{"Escape"===t.code&&(e.modalOverlay.remove(),document.body.style.overflow="auto")}),!0),e.modalConfirmContainer.addEventListener("click",(r=>{if("modal-cancel"===r.target.id&&e.modalOverlay.remove(),"modal-confirm"===r.target.id){e.modalOverlay.remove(),o.type="done",o.completedTime=t(),c[l].doneTasks.push(o),u.splice(s,1),a(c),E();const r=b();A(r[`${m}PanelContainer`]),e.swipeSound.play(),e.wowSound.play()}}));break}}"done"!==m&&e.addEventListener("dragend",(e=>{e.preventDefault(),E();const t=b();A(t[`${m}PanelContainer`])}))}))}))})),setTimeout((()=>{e.style.display="none"}),0),e.addEventListener("dragend",(e=>{e.preventDefault(),E();const t=b();A(t[`${n}PanelContainer`])}))}(n,r,[...n.classList][1].split("-").at(-1))}})),e.boardsContainer.addEventListener("click",(r=>{if("add-new-card-button"===r.target.id&&(()=>{q("new");const e=b();e.clickSound.play(),window.addEventListener("keydown",(t=>{"Escape"===t.code&&(e.editModalOverlay.remove(),document.body.style.overflow="auto")}),{once:!0}),e.modalContainer.addEventListener("click",(t=>{if("modal-edit-cancel"===t.target.id&&(e.editModalOverlay.remove(),e.clickSound.play()),"modal-edit-confirm"===t.target.id)if(t.preventDefault(),""===e.modalTitle.value.replace(/ /g,"")&&""===e.modalDescription.value.replace(/ /g,"")){$("Please, enter task title or task description!","alert");const e=b();e.errorSound.play(),e.modalConfirmContainer.addEventListener("click",(t=>{"modal-cancel"===t.target.id&&(e.modalOverlay.remove(),e.clickSound.play())})),window.addEventListener("keydown",(t=>{"Escape"===t.code&&(e.modalOverlay.remove(),document.body.style.overflow="auto")}),{once:!0})}else{e.editModalOverlay.remove();const t=o(),r=s();e.ringSound.play(),"empty"===e.newUserSelect.value?t[r].todoTasks.push(n(e.modalTitle.value,e.modalDescription.value,"user is not assigned")):t[r].todoTasks.push(n(e.modalTitle.value,e.modalDescription.value,e.newUserSelect.value)),a(t),k(e,"todo"),A(e.todoPanelContainer)}}))})(r.target.id),"delete-all-button"===r.target.id&&function(){$("Delete all completed tasks?");const e=b();e.clickSound.play(),window.addEventListener("keydown",(t=>{"Escape"===t.code&&(e.modalOverlay.remove(),document.body.style.overflow="auto")}),!0),e.modalConfirmContainer.addEventListener("click",(t=>{if("modal-cancel"===t.target.id&&(e.modalOverlay.remove(),document.body.style.overflow="auto",e.clickSound.play()),"modal-confirm"===t.target.id){const t=o(),r=s();t[r].doneTasks.forEach((e=>{e.type="delete",t[r].deleteTasks.push(e)})),t[r].doneTasks=[],e.swipeLargeSound.play(),a(t),e.modalOverlay.remove(),document.body.style.overflow="auto",k(e,"done"),e.ringSound.play()}}))}(),-1!==r.target.id.indexOf("card-delete-button")){const e=document.querySelectorAll(".task-card"),t=r.target.id.split("-")[0];e.forEach((e=>{-1!==e.id.indexOf(t)&&function(e,t){$("Delete current task?");const r=o(),n=s(),d=r[n][`${t}Tasks`],c=b();c.trashSound.play(),c.modalConfirmContainer.addEventListener("click",(t=>{if("modal-cancel"===t.target.id&&(c.modalOverlay.remove(),document.body.style.overflow="auto",c.clickSound.play()),"modal-confirm"===t.target.id){const t=e.split("-")[0];d.forEach(((e,o)=>{if(String(e.id)===String(t)){const t=e.type;e.type="delete",r[n].deleteTasks.push(e),d.splice(o,1),a(r),k(c,t)}})),c.modalOverlay.remove(),document.body.style.overflow="auto",c.ringSound.play()}})),window.addEventListener("keydown",(e=>{"Escape"===e.code&&(c.modalOverlay.remove(),document.body.style.overflow="auto")}),!0)}(r.target.id,e.classList.value.split("--").at(-1))}))}if(-1!==r.target.id.indexOf("card-edit-button")&&function(e){const t=o(),r=s(),n=t[r].todoTasks,d=e.split("-")[0];n.forEach((e=>{String(e.id)===String(d)&&q(e.id)}));const c=b();c.clickSound.play(),window.addEventListener("keydown",(e=>{"Escape"===e.code&&(c.editModalOverlay.remove(),document.body.style.overflow="auto")}),{once:!0}),c.modalContainer.addEventListener("click",(e=>{if("modal-edit-cancel"===e.target.id&&(c.editModalOverlay.remove(),document.body.style.overflow="auto",c.clickSound.play()),"modal-edit-confirm"===e.target.id)if(e.preventDefault(),""===c.modalTitle.value.replace(/ /g,"")&&""===c.modalDescription.value.replace(/ /g,"")){$("Please, enter task title or task description!","alert");const e=b();e.errorSound.play(),e.modalConfirmContainer.addEventListener("click",(t=>{"modal-cancel"===t.target.id&&(e.modalOverlay.remove(),e.clickSound.play())})),window.addEventListener("keydown",(t=>{"Escape"===t.code&&(e.modalOverlay.remove(),document.body.style.overflow="auto")}),{once:!0})}else n.forEach((e=>{String(e.id)===String(d)&&(e.title=c.modalTitle.value,e.description=c.modalDescription.value,"empty"===c.newUserSelect.value?e.user="user is not assigned":e.user=c.newUserSelect.value)})),c.editModalOverlay.remove(),document.body.style.overflow="auto",a(t),k(c,"todo"),c.ringSound.play()}))}(r.target.id),-1!==r.target.id.indexOf("card-forward-button")){const e=document.querySelectorAll(".task-card"),n=r.target.id.split("-")[0];e.forEach((e=>{-1!==e.id.indexOf(n)&&function(e,r){const n=o(),d=s(),c=n[d][`${r}Tasks`],l=b(),i=e.split("-")[0];c.forEach(((e,o)=>{if(String(e.id)===String(i)){if("todo"===e.type){if(n[d].progressTasks.length<6)return e.type="progress",e.takenTime=t(),n[d].progressTasks.push(e),c.splice(o,1),a(n),k(l,"todo"),k(l,"progress"),A(l.progressPanelContainer),l.swipeSound.play(),void l.ringSound.play();{$("You can't add more than 6 tasks to progress panel! Please, complete progress tasks","alert");const e=b();e.errorSound.play(),window.addEventListener("keydown",(t=>{"Escape"===t.code&&(e.modalOverlay.remove(),document.body.style.overflow="auto")}),!0),e.modalConfirmContainer.addEventListener("click",(t=>{"modal-cancel"===t.target.id&&e.modalOverlay.remove()}))}}if("progress"===e.type){$("Move task to completed?");const r=b();r.clickSound.play(),window.addEventListener("keydown",(e=>{"Escape"===e.code&&(r.modalOverlay.remove(),document.body.style.overflow="auto")}),!0),r.modalConfirmContainer.addEventListener("click",(s=>{"modal-cancel"===s.target.id&&(r.modalOverlay.remove(),r.clickSound.play()),"modal-confirm"===s.target.id&&(e.type="done",e.completedTime=t(),n[d].doneTasks.push(e),c.splice(o,1),r.modalOverlay.remove(),a(n),k(r,"progress"),k(r,"done"),A(r.donePanelContainer),r.swipeSound.play(),r.wowSound.play())}))}}}))}(r.target.id,e.classList.value.split("--").at(-1))}))}-1!==r.target.id.indexOf("card-back-button")&&function(e){const t=o(),r=s(),n=t[r].progressTasks,d=b(),c=e.split("-")[0];n.forEach(((e,o)=>{String(e.id)===String(c)&&(e.type="todo",e.takenTime="",t[r].todoTasks.push(e),n.splice(o,1),a(t),k(d,"todo"),A(d.todoPanelContainer),k(d,"progress"),d.swipeSound.play())}))}(r.target.id),"board-delete-button"===r.target.id&&function(){const e=o(),t=s(),r=e[t];$(`Delete  board '${e[t].title}' ?`);const n=b();n.trashSound.play(),window.addEventListener("keydown",(e=>{"Escape"===e.code&&(n.modalOverlay.remove(),document.body.style.overflow="auto")}),!0),n.modalConfirmContainer.addEventListener("click",(t=>{"modal-cancel"===t.target.id&&(n.modalOverlay.remove(),document.body.style.overflow="auto",n.clickSound.play()),"modal-confirm"===t.target.id&&(n.modalOverlay.remove(),document.body.style.overflow="auto",n.ringSound.play(),e.splice(e.indexOf(r),1),a(e),e.length>0&&C(e.at(-1).id),S(),E())}))}(),"board-settings-button"===r.target.id&&T(),"users-bar-button"===r.target.id&&O(),"switch-panel-right"===r.target.id&&((()=>{const e=b();if(e.clickSound.play(),!e.todoPanel.hasAttribute("disable"))return e.todoPanel.setAttribute("disable",""),e.progressPanel.removeAttribute("disable",""),void e.switchPanelLeft.removeAttribute("disable","");e.progressPanel.hasAttribute("disable")||(e.progressPanel.setAttribute("disable",""),e.donePanel.removeAttribute("disable",""),e.switchPanelLeft.removeAttribute("disable",""),e.switchPanelRight.setAttribute("disable",""))})(),e.clickSound.play()),"switch-panel-left"===r.target.id&&((()=>{const e=b();if(e.clickSound.play(),!e.donePanel.hasAttribute("disable"))return e.donePanel.setAttribute("disable",""),e.progressPanel.removeAttribute("disable",""),void e.switchPanelRight.removeAttribute("disable","");e.progressPanel.hasAttribute("disable")||(e.progressPanel.setAttribute("disable",""),e.todoPanel.removeAttribute("disable",""),e.switchPanelRight.removeAttribute("disable",""),e.switchPanelLeft.setAttribute("disable",""))})(),e.clickSound.play())})),e.boardSwitcherWrapper.addEventListener("click",(e=>{if("boards-switcher-button-add"===e.target.id&&L(),e.target.id.includes("board-radio-button")){(e=>{const t=b();C(e),S(),E(),t.clickSound.play()})(e.target.id.split("-").at(-1))}})),e.boardHeaderLogo.addEventListener("click",(t=>{e.clickSound.play(),(()=>{document.querySelector("#root").prepend(w());const e=b();e.splash.style.position="absolute",e.splash.style.zIndex="150",e.splash.style.backgroundColor="rgba(0,0,0,0.9)",window.addEventListener("keydown",(t=>{"Escape"===t.code&&e.splash.remove()}),!0),window.addEventListener("click",(t=>{t.target!==e.boardHeaderLogo&&e.splash.remove()})),document.querySelector("#bug").addEventListener("mouseover",(()=>{e.bugSound.play()}))})()})),window.addEventListener("resize",(()=>{(e=>{const t=b();window.innerWidth<768?(t.todoPanel.removeAttribute("disable",""),t.progressPanel.setAttribute("disable",""),t.donePanel.setAttribute("disable",""),t.switchPanelLeft.style.display="block",t.switchPanelRight.style.display="block",t.switchPanelLeft.setAttribute("disable",""),t.switchPanelRight.removeAttribute("disable","")):(t.todoPanel.removeAttribute("disable",""),t.progressPanel.removeAttribute("disable",""),t.donePanel.removeAttribute("disable",""),t.switchPanelLeft.style.display="none",t.switchPanelRight.style.display="none")})()}))},F=document.querySelector("#root"),I=()=>{const e=document.createElement("audio");e.id="click";const t=document.createElement("source");t.src="./click.mp3",t.type="audio/mpeg",e.append(t);const o=document.createElement("audio");o.id="wow";const a=document.createElement("source");a.src="./wow.mp3",a.type="audio/mpeg",o.append(a);const r=document.createElement("audio");r.id="swipe";const n=document.createElement("source");n.src="./swipe-s.mp3",n.type="audio/mpeg",r.append(n);const s=document.createElement("audio");s.id="swipe-large";const d=document.createElement("source");d.src="./swipe.mp3",d.type="audio/mpeg",s.append(d);const c=document.createElement("audio");c.id="ring";const l=document.createElement("source");l.src="./ring.mp3",l.type="audio/mpeg",c.append(l);const i=document.createElement("audio");i.id="trash";const u=document.createElement("source");u.src="./trash.mp3",u.type="audio/mpeg",i.append(u);const m=document.createElement("audio");m.id="bug-sound";const p=document.createElement("source");p.src="./bug.mp3",p.type="audio/mpeg",m.append(p);const b=document.createElement("audio");b.id="error";const g=document.createElement("source");g.src="./error.mp3",g.type="audio/mpeg",b.append(g),F.append(e,o,r,s,c,i,m,b)};!function(e){I(),p(e),E(),D()}(document.querySelector("#root"))})();